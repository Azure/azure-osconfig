{
    "modules": [
        "configuration"
    ],
    "setup": [
        "[ -e /etc/osconfig/osconfig.json ] && cp /etc/osconfig/osconfig.json /etc/osconfig/osconfig.json.bak"
    ],
    "teardown": [
        "[ -e /etc/osconfig/osconfig.json.bak ] && cp /etc/osconfig/osconfig.json.bak /etc/osconfig/osconfig.json"
    ],
    "steps": [
        {
            "type": "reported",
            "component": "Configuration",
            "object": "notImplemented",
            "expect": {
                "status": 22
            }
        },
        {
            "type": "desired",
            "component": "Configuration",
            "object": "notImplemented",
            "expect": {
                "status": 22
            }
        },
        {
            "type": "desired",
            "component": "Configuration",
            "object": "desiredRefreshInterval",
            "payload": 5
        },
        {
            "type": "reported",
            "component": "Configuration",
            "object": "refreshInterval",
            "expect": {
                "payload": 5
            }
        },
        {
            "type": "desired",
            "component": "Configuration",
            "object": "desiredRefreshInterval",
            "payload": 30
        },
        {
            "type": "reported",
            "component": "Configuration",
            "object": "refreshInterval",
            "expect": {
                "payload": 30
            }
        },
        {
            "type": "desired",
            "component": "Configuration",
            "object": "desiredLocalManagementEnabled",
            "payload": "invalid",
            "expect": {
                "status": 22
            }
        },
        {
            "type": "desired",
            "component": "Configuration",
            "object": "desiredLocalManagementEnabled",
            "payload": true
        },
        {
            "type": "reported",
            "component": "Configuration",
            "object": "localManagementEnabled",
            "expect": {
                "payload": true
            }
        },
        {
            "type": "desired",
            "component": "Configuration",
            "object": "desiredLocalManagementEnabled",
            "payload": false
        },
        {
            "type": "reported",
            "component": "Configuration",
            "object": "localManagementEnabled",
            "expect": {
                "payload": false
            }
        },
        {
            "type": "desired",
            "component": "Configuration",
            "object": "desiredFullLoggingEnabled",
            "payload": "invalid",
            "expect": {
                "status": 22
            }
        },
        {
            "type": "desired",
            "component": "Configuration",
            "object": "desiredFullLoggingEnabled",
            "payload": true
        },
        {
            "type": "reported",
            "component": "Configuration",
            "object": "fullLoggingEnabled",
            "expect": {
                "payload": true
            }
        },
        {
            "type": "desired",
            "component": "Configuration",
            "object": "desiredFullLoggingEnabled",
            "payload": false
        },
        {
            "type": "reported",
            "component": "Configuration",
            "object": "fullLoggingEnabled",
            "expect": {
                "payload": false
            }
        },
        {
            "type": "desired",
            "component": "Configuration",
            "object": "desiredCommandLoggingEnabled",
            "payload": "invalid",
            "expect": {
                "status": 22
            }
        },
        {
            "type": "desired",
            "component": "Configuration",
            "object": "desiredCommandLoggingEnabled",
            "payload": true
        },
        {
            "type": "reported",
            "component": "Configuration",
            "object": "commandLoggingEnabled",
            "expect": {
                "payload": true
            }
        },
        {
            "type": "desired",
            "component": "Configuration",
            "object": "desiredCommandLoggingEnabled",
            "payload": false
        },
        {
            "type": "reported",
            "component": "Configuration",
            "object": "commandLoggingEnabled",
            "expect": {
                "payload": false
            }
        },
        {
            "type": "desired",
            "component": "Configuration",
            "object": "desiredIotHubProtocol",
            "payload": "invalid",
            "expect": {
                "status": 22
            }
        },
        {
            "type": "desired",
            "component": "Configuration",
            "object": "desiredIotHubProtocol",
            "payload": "auto"
        },
        {
            "type": "reported",
            "component": "Configuration",
            "object": "iotHubProtocol",
            "expect": {
                "payload": "auto"
            }
        },
        {
            "type": "desired",
            "component": "Configuration",
            "object": "desiredIotHubProtocol",
            "payload": "mqtt"
        },
        {
            "type": "reported",
            "component": "Configuration",
            "object": "iotHubProtocol",
            "expect": {
                "payload": "mqtt"
            }
        },
        {
            "type": "desired",
            "component": "Configuration",
            "object": "desiredIotHubProtocol",
            "payload": "mqttWebSocket"
        },
        {
            "type": "reported",
            "component": "Configuration",
            "object": "iotHubProtocol",
            "expect": {
                "payload": "mqttWebSocket"
            }
        }
    ]
}